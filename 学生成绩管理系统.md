# 学生成绩管理系统

这是一个基于JSP和Servlet的学生成绩管理系统，旨在提供一个方便的平台，用于管理学生信息、课程成绩以及进行用户认证和论坛交流。




## 项目特点

- **用户认证**: 支持学生和管理员登录，提供注册功能。
- **成绩管理**: 管理员可以添加、编辑、删除和导出学生成绩；学生可以查看自己的成绩。
- **用户管理**: 管理员可以查看和删除用户。
- **论坛功能**: 用户可以发布帖子、回复帖子，管理员可以管理论坛内容。
- **数据库集成**: 使用MySQL数据库存储所有数据。
- **前端**: 基于JSP页面，结合CSS美化界面。




## 项目结构

```
Student-jspversion-enhanced/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── util/
│   │   │       └── DBUtil.java             # 数据库连接工具类
│   │   └── webapp/
│   │       ├── META-INF/
│   │       ├── WEB-INF/
│   │       │   └── lib/                    # 依赖库
│   │       ├── css/
│   │       │   └── style.css               # 样式文件
│   │       ├── *.jsp                       # 各功能JSP页面
│   │       └── index.jsp                   # 登录页面
└── build/
    └── classes/
        └── util/
            └── DBUtil.class
```




## 安装与运行

### 1. 数据库设置

1.  确保您已安装MySQL数据库。
2.  创建一个名为 `student_management` 的数据库。
3.  运行以下SQL脚本创建表并插入初始数据：

    ```sql
    -- 用户表
    CREATE TABLE `users` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `username` varchar(50) NOT NULL UNIQUE,
      `password` varchar(50) NOT NULL,
      `role` varchar(10) NOT NULL DEFAULT 'student', -- 'student' 或 'admin'
      PRIMARY KEY (`id`)
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

    -- 初始管理员用户
    INSERT INTO `users` (`username`, `password`, `role`) VALUES ('admin', 'admin', 'admin');

    -- 成绩表
    CREATE TABLE `scores` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `student_id` int(11) NOT NULL,
      `course` varchar(100) NOT NULL,
      `score` decimal(5,2) NOT NULL,
      PRIMARY KEY (`id`),
      FOREIGN KEY (`student_id`) REFERENCES `users`(`id`) ON DELETE CASCADE
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

    -- 论坛帖子表
    CREATE TABLE `posts` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `user_id` int(11) NOTnULL,
      `title` varchar(255) NOT NULL,
      `content` text NOT NULL,
      `created_at` timestamp DEFAULT CURRENT_TIMESTAMP,
      `is_pinned` tinyint(1) DEFAULT '0',
      PRIMARY KEY (`id`),
      FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;

    -- 论坛回复表
    CREATE TABLE `replies` (
      `id` int(11) NOT NULL AUTO_INCREMENT,
      `post_id` int(11) NOT NULL,
      `user_id` int(11) NOT NULL,
      `content` text NOT NULL,
      `created_at` timestamp DEFAULT CURRENT_TIMESTAMP,
      PRIMARY KEY (`id`),
      FOREIGN KEY (`post_id`) REFERENCES `posts`(`id`) ON DELETE CASCADE,
      FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE
    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
    ```

4.  根据您的MySQL配置，修改 `src/main/java/util/DBUtil.java` 中的数据库连接信息（`URL`, `USER`, `PASSWORD`）。

### 2. 项目导入与部署

1.  将项目导入到您偏好的Java IDE中（如Eclipse或IntelliJ IDEA）。
2.  确保项目已配置为Web项目，并已添加所有必要的库（位于 `src/main/webapp/WEB-INF/lib/`）。
3.  将项目部署到Servlet容器中（如Apache Tomcat）。
4.  启动Tomcat服务器。

### 3. 访问应用

在浏览器中访问 `http://localhost:8080/Student-jspversion-enhanced/` （如果您的Tomcat端口和项目名称不同，请相应修改URL）。

初始管理员账号：
- 用户名: `admin`
- 密码: `admin`


